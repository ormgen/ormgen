# EntityField

The `EntityField` are used by the `Entity`.

An `EntityField` always have a type that defines it's specific properties. They also have a common base of properties. The following types are currently implemented:

## Text

| Property    | Type     | Description                  |
| ----------- | -------- | ---------------------------- |
| `isPrimary` | `string` | Is this field a primary key? |

## Int

| Property    | Type     | Description                  |
| ----------- | -------- | ---------------------------- |
| `isPrimary` | `string` | Is this field a primary key? |

## DateTime

| Property     | Type      | Description                                            |
| ------------ | --------- | ------------------------------------------------------ |
| `defaultNow` | `boolean` | Should this field be populated with `now` at creation? |
| `onUpdate`   | `boolean` | Should this field be updated with `now` at update?     |

## Enum

| Property | Type   | Description                                       |
| -------- | ------ | ------------------------------------------------- |
| `enum`   | `Enum` | The name of the enum (which is defined elsewhere) |

## Json

-   This field have no extra properties.
-   Special implementation using `index.meta.ts`.

## Unknown

-   This field type is used when the field type is not yet implemented by `ormgen`.
-   No extra properties.

## Relation

| Property                | Type                             | Description                                                  |
| ----------------------- | -------------------------------- | ------------------------------------------------------------ |
| `onDelete`              | `Cascade`, `SetNull`, `Restrict` | How to handle if the related entitiy is deleted.             |
| `relationName`          | `string`                         | Naming relations might be useful in some cases.              |
| `targetEntityName`      | `EntityName`                     | The typesafe name of the target entity.                      |
| `targetEntityFieldName` | `string`                         | The name of the field at the targeted entity.                |
| `targetMode`            | `one`, `many`                    | Should the targeted entity have one or many of this entity?  |

## RelationTarget

-   This field is automatically generated by `ormgen`.
-   They should solely be used by the generators.

---

All fields have the following properties:

| Property | Type   | Description                                          |
| -------- | ------ | ---------------------------------------------------- |
| `extra`  | Record | An extra object that specific generators might need. |

Also, all fields except `Relation` and `RelationTarget` have the following properties:

| Property       | Type      | Description                      |
| -------------- | --------- | -------------------------------- |
| `isNullable`   | `boolean` | Is this field nullable?          |
| `isUnique`     | `boolean` | Is this field unique?            |
| `defaultValue` | `string`  | The defualt value for the field. |
